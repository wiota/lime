{% extends "base.html" %}
{% block head %}

  {{ super() }}

  <script src='{{ url_for('static', filename='js/backbone.js') }}'></script>
  <!--<script src='{{ url_for('static', filename='js/jquery-ui.custom.min.js') }}'></script>-->
  <script src='{{ url_for('static', filename='js/sortable.js') }}'></script>
  </script>

{% endblock %}

{% block backbone_templates %}

  <!-- Summary -->

  <script type="text/template" id="portfolio_summary">
    <div class='portfolio_title title'>The Body</div>
    <div class='in_set_menu'>
      <a class='add_work'>add work</a>
      <a class='add_category'>add category</a>
    </div>
  </script>

  <script type="text/template" id="category_summary">
    <div class='category_title title'><%= title %></div>
    <div class='meta'>
      <div class='cover set_cover'></div>
      <div class='in_set_menu'>
        <a class='update'>update</a>
        <a class='add_work'>add work</a>
        <a class='add_category'>add category</a>
      </div>
    </div>
  </script>

  <script type="text/template" id="work_summary">
    <div class='work_title title'><%= title %></div>
    <div class='meta'>
      <div class='cover'></div>
      <div class='in_set_menu'>
        <a class='update'>update</a>
        <a class='set_cover'>set cover</a>
      </div>
    </div>
  </script>

  <script type="text/template" id="happening_summary">
    <div class='title'><%= title %></div>
    <div class='location'><%= location %></div>
    <div class='start'><%= start_date %></div>
    <div class='end'>End Date: <% if (typeof end_date !== "undefined") { print(end_date) } %></div>

    <div class='in_set_menu'>
      <a class='update'>update</a>
    </div>
  </script>

  <!-- SuccsetItem -->

  <script type="text/template" id="body_in_set">
    <a class='in_set_link' href='#'></a>
    <div class='cover'></div>
    <b class='title'>Body</b>
    <div class='in_set_menu'>
      <a class='update'>update</a>
      <a class='drag_handle'>&#8597;</a>
    </div>
  </script>

  <script type="text/template" id="category_in_set">
    <a class='in_set_link' href='#category/<%= _id %>'></a>
    <div class='cover'></div>
    <b class='title'><%= title %></b>
    <div class='in_set_menu'>
      <a class='update'>update</a>
      <a class='delete'>delete</a>
      <a class='drag_handle'>&#8597;</a>
    </div>
  </script>

  <script type="text/template" id="work_in_set">
    <a class='in_set_link' href='#work/<%= _id %>'></a>
    <div class='cover'></div>
    <b class='title'><%= title %></b>
    <div class='in_set_menu'>
      <a class='update'>update</a>
      <a class='delete'>delete</a>
      <a class='drag_handle'>&#8597;</a>
    </div>
  </script>

  <script type="text/template" id="photo_in_set">
    <a class='in_set_link' href='<%= href %>'></a>
    <img src="<%= href %>" alt="" />
    <div class='in_set_menu'>
      <a class='delete'>delete</a>
      <a class='drag_handle'>&#8597;</a>
    </div>
  </script>


  <!-- Form templates -->

  <script type="text/template" id="text">
    <label for='<%= id %>'><%= label %></label><input class='input' type='text' id='<%= id %>' value='<%= value %>' />
  </script>

  <script type="text/template" id="textarea">
    <label for='<%= id %>'><%= label %></label>
    <textarea class='input textarea' id='<%= id %>'><%= value %></textarea>
  </script>

  <script type="text/template" id="button">
    <input class='input <%= cls %>' type='button' value='<%= label %>' />
  </script>

  <script type="text/template" id="file_upload">
    <div class='files_container'>
      <i class='message'>Drop files here</i>
      <input type="file" multiple="multiple" name="files[]" class="files"/>
    </div>
  </script>

  <script type="text/template" id="html5_file_upload">
    <!--<label for='files'><%= label %></label>-->
    <input type="file" multiple="multiple" name="files[]" class="files"/>
    <div class='files_container'>
      <i class='message'><%= label %></i>
    </div>
  </script>

  <script type="text/template" id="batch">
    <div class='in_batch_menu'>
      <i class='batch_count'><%= batch_count %></i>
    </div>
    <div class='batch_items'></div>
  </script>

  <script type="text/template" id="batch_item">
    <div style='width: <%= width %>%' class='progress_bar_fill'></div>
    <a class='cancel'>X</a>
    <i class='label'><%= label %></i>
  </script>

  <!-- Action templates -->
  <script type="text/template" id="new_work">
    <a class='new_work'>new work</a>
  </script>

  <script type="text/template" id="new_category">
    <a class='new_category'>new category</a>
  </script>



{% endblock %}

{% block content %}
  <div id='request_panel'><div class='container'></div></div>
  <div id='path_panel'>
    <div class='path'>
      <div class='static_graph_nav'>
        <a class='vertex body' href='/#'>
          <img class='icon' src='https://s3.amazonaws.com/wiota/lime/home.svg'>
          <b class='label'>home</b>
        </a>
        <a class='vertex back' onclick='javascript: history.go(-1)'>
          <img class='icon' src='https://s3.amazonaws.com/wiota/lime/back.svg'>
          <b class='label'>back</b>
        </a>
      </div>
    </div>
  </div>
  <div id='action_panel'></div>
  <div id='listing_panel'></div>

{% endblock %}

{% block js_footer %}

  <script src='{{ url_for('static', filename='js/app.js') }}'></script>
  <script type="text/javascript" src='{{ url_for('static', filename='js/s3upload.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.msg.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.model.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.collection.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.view.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.form.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.upload.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.router.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.request.js') }}'></script>
  <script src='{{ url_for('static', filename='js/app.requestapi.js') }}'></script>

{% endblock %}
